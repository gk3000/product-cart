{
  "version": 3,
  "sources": [
    "bundle.js"
  ],
  "names": [
    "View",
    "template",
    "value",
    "compiled",
    "console",
    "log",
    "BrowserView",
    "name",
    "undefined",
    "db",
    "$",
    "children",
    "remove",
    "key",
    "event",
    "eventBlock",
    "price",
    "number",
    "appendTo",
    "document",
    "getElementById",
    "textContent",
    "JSON",
    "stringify",
    "Model",
    "nextId",
    "values",
    "push",
    "val",
    "newValue",
    "eventID",
    "quantity",
    "parseInt",
    "i",
    "Cart",
    "Event",
    "Controller",
    "model",
    "view",
    "render",
    "getAll",
    "valueNew",
    "update",
    "updateQuantity",
    "addOne",
    "BrowserController",
    "meth",
    "arg1",
    "arg2",
    "mod",
    "brvw",
    "brcn",
    "updating",
    "preventDefault",
    "browse",
    "target",
    "closest",
    "find",
    "text",
    "ready",
    "sum",
    "each",
    "ele",
    "toFixed",
    "removeFromCart",
    "runnin"
  ],
  "mappings": "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",
  "file": "bundle.js",
  "sourceRoot": "../src",
  "sourcesContent": [
    "class View {\n  constructor(template) {\n    this.template = template;\n  }\n\n  render(value) {\n    var compiled = this.template + value;\n    console.log(compiled);\n  }\n}\n\nclass BrowserView extends View {\n  constructor(template) {\n    super(template);\n  }\n\nrender(name) {\n    if (name !== undefined) {\n      console.log(\"------db-------\", this.db)\n      //document.getElementById(\"display\").textContent=this.template + ' ' + name;\n      //document.getElementById(\"eventsList\").appendTo('eventsList')('<p>TEST</p>')\n      $( \"div#eventsList\" ).children().remove()\n      for (var key in this.db) { \n        console.log(\"-----event-----\", event)\n        $(eventBlock(this.db[key].name, this.db[key].price*this.db[key].number) ).appendTo( \"#eventsList\" )\n      } \n      } else {\n      document.getElementById(\"display\").textContent=\"that doesn't exist\";\n      document.getElementById(\"db\").textContent=JSON.stringify(this.db);\n    }  \n  }\n}\n\nclass Model {\n  constructor() {\n    this.db = {};\n    this.nextId = 0;\n  }\n\n  addOne(name, price) {\n    this.db[this.nextId] = {};\n    this.db[this.nextId].price = price;\n    this.db[this.nextId].name = name;\n    this.db[this.nextId].number = 1;\n    this.nextId ++;\n  }\n\n  getOne(key) {\n    return this.db[key];\n  }\n\n  getAll() {\n    var values = [];\n    for (var key in this.db) {\n      values.push(this.db[key].val)\n    }\n    return values;\n  }\n\n  update(name, newValue) {\n    for (var key in this.db){\n      if (this.db[key].name === name) {\n        var eventID = key\n      }\n    }\n    this.db[eventID].price = newValue;      \n  }\n\n  updateQuantity(name, quantity) {\n    var eventID\n    for (var key in this.db){\n      console.log(\"this.db[key].name\", this.db[key].name, \"name\", name)\n              console.log(\"--this.db[key].name--\", this.db[key].name == name)\n      if (this.db[key].name == name) {\n        console.log(\"--this.db--\", this.db )\n        eventID = key\n\n      }\n    }\n    this.db[eventID].number = parseInt(quantity);      \n  }\n\n\n  remove(key) {\n    var eventID\n    for (var i in this.db){\n\n      if (this.db[i].name == key) {\n        eventID = i\n      }\n    }\n      delete this.db[eventID]\n    }\n}\n\nclass Cart extends Model {\n\n}\n\nclass Event extends Model {\n\n}\n\nclass Controller {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n    // quite hackly\n    this.view.db = this.model.db;\n  }\n\n  getOne(key) {\n    var value = this.model.db[key].val;\n    this.view.render(value)\n  }\n\n  getAll() {\n    this.view.render(this.model.getAll());\n  }\n\n  update(name, valueNew) {\n\n    this.model.update(name, valueNew);\n    this.view.render(this.model.getAll());\n  }\n\n  updateQuantity(name, quantity) {\n    this.model.updateQuantity(name, quantity);\n    this.view.render(this.model.getAll());\n  }\n\n  post(key, value) {\n    this.model.addOne(key, value);\n    this.getAll();\n  }\n\n  remove(key) {\n    this.model.remove(key);\n    this.getAll();\n  }\n}\n\nclass BrowserController extends Controller {\n  browse(meth, arg1, arg2) {\n    this[meth](arg1, arg2);\n  }\n}\n\n//-----------------------------\n\nconst eventBlock = (name, price) => `\n<div class=\"thumbnail\">\n<h2 id=\"db\">${name}</h2>\n<form>\n<select class=\"form-control\" data-toggle=\"tooltip\" id=\"quantitySelector\" data-placement=\"bottom\" title=\"Change the quantity\">\n<option value=\"1\" selected=\"selected\">1</option>\n<option value=\"2\">2</option>\n<option value=\"3\">3</option>\n<option value=\"4\">4</option>\n<option value=\"5\" >5</option></select>\n<button onclick=\"updating(event)\" class=\"btn btn-default\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Update\" name=\"updateQuantity\">Update</button>\n<button onclick=\"removeFromCart(event)\" type=\"button\" class=\"btn btn-default\" aria-label=\"Delete\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Delete\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span></button>\n</form>\n<p class=\"thumbnail pull-right\"><strong>Price: </strong>€<span id=\"display\" class=\"price\">${price}</span></p>\n</div>\n`\n\nvar mod = new Model();\nvar brvw = new BrowserView(' ');\nvar brcn = new BrowserController(mod, brvw)\n\nvar updating = function(event) {\n  event.preventDefault()\n  brcn.browse(\"updateQuantity\", $(event.target).closest(\"div\").find(\"#db\").text(), $(event.target).closest(\"div\").find(\"#quantitySelector option:selected\").text());\n $( document ).ready(function() {\n  let sum = 0\n  $(\".price\").each((i, ele) => {\n    sum += parseInt($(ele).text())\n  })\n  $(\"#cartTot\").text(sum)\n  $(\"#Total\").text((sum+sum*0.21).toFixed(2))\n})\n};\n\nvar removeFromCart = function(event) {\n    console.log(\"----name----\", $(event.target).closest(\"div\").find(\"#db\").text())\n  event.preventDefault()\n\n  brcn.browse(\"remove\", $(event.target).closest(\"div\").find(\"#db\").text());\n$( document ).ready(function() {\n  let sum = 0\n  $(\".price\").each((i, ele) => {\n    sum += parseInt($(ele).text())\n  })\n  $(\"#cartTot\").text(sum)\n  $(\"#Total\").text((sum+sum*0.21).toFixed(2))\n})\n};\n\nvar runnin = function() {\n brcn.browse(document.getElementById(\"first\").value, document.getElementById(\"second\").value, document.getElementById(\"third\").value);\n$( document ).ready(function() {\n  let sum = 0\n  $(\".price\").each((i, ele) => {\n    sum += parseInt($(ele).text())\n  })\n  $(\"#cartTot\").text(sum)\n  $(\"#Total\").text((sum+sum*0.21).toFixed(2))\n})\n};\n\n\n\n"
  ]
}
